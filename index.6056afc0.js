const e=document.querySelector(".js-newsApi"),t=document.querySelector(".form"),n=document.querySelector(".js-form-btn"),s=document.querySelector(".js-load-more-news-btn");n.textContent="Find news",t.addEventListener("submit",(function(t){t.preventDefault();const n=t.currentTarget.elements.query.value.trim();if(!n)return void alert("Bad request!");r.searchQuery=n,r.fetchNews().then((t=>{const{articles:n,totalResults:r}=t;r>n.length&&(s.hidden=!1),e.insertAdjacentHTML("beforeend",i(n))})).catch(console.log)})),s.addEventListener("click",(function(){r.fetchNews().then((t=>{const{articles:n,totalResults:r}=t;r>n.length&&(s.hidden=!1),e.insertAdjacentHTML("beforeend",i(n))})).catch(console.log)})),s.hidden=!0;const r=new class{fetchNews(){const e=new URLSearchParams({from:Date.now(),to:Date.now(),sortBy:"popularity",pageSize:this.pageSize,q:this.query,page:this.page}),t=`${this.BASE_URL}?${e.toString()}`,n={"X-Api-Key":this.apiKey};return fetch(t,{headers:n}).then((e=>{if(!e.ok)throw new Error("Error!");return e.json()})).catch((e=>console.error("Error fetching news:",e)))}get searchQuery(){return this.query}set searchQuery(e){this.query=e}constructor(){this.query="",this.page=1,this.BASE_URL="https://newsapi.org/v2/everything",this.apiKey="51dbc0fa52b2439d86cda18bc3a4c116",this.country="ua",this.category="general",this.pageSize=24}};function i(e){return e.map((({title:e,author:t,publishedAt:n,urlToImage:s,description:r,url:i})=>`\n      <li class="news-card">\n        <div class="news-image">\n          <img\n            src="${s}"\n            alt="${e}"\n          />\n        </div>\n        <div class="news-details">\n          <h2 class="news-title">${e}</h2>\n          <p class="news-author">${t}</p>\n          <p class="news-publishedAt">Published at: ${n}</p>\n          <p class="news-description">${r}</p>\n          <a\n            href="${i}"\n            class="news-url"\n            >Read more</a\n          >\n        </div>\n      </li>\n        `)).join("")}
//# sourceMappingURL=index.6056afc0.js.map
