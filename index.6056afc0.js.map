{"mappings":"AAKA,MAAMA,EAAcC,SAASC,cAAc,eACrCC,EAAOF,SAASC,cAAc,SAC9BE,EAAcH,SAASC,cAAc,gBACrCG,EAAkBJ,SAASC,cAAc,0BAE/CE,EAAYE,YAAc,YAE1BH,EAAKI,iBAAiB,UAkCtB,SAA2BC,GACzBA,EAAEC,iBAEF,MAAMC,EAAkBF,EAAEG,cAAcC,SAASC,MAAMC,MAAMC,OAE7D,IAAKL,EAEH,YADAM,MAAM,gBAIRC,EAAaC,YAAcR,EAE3BO,EACGE,YACAC,MAAKC,IACJ,MAAMC,SAAEA,EAAQC,aAAEA,GAAiBF,EAE/BE,EAAeD,EAASE,SAC1BnB,EAAgBoB,QAAS,GAG3BzB,EAAY0B,mBAAmB,YAAaC,EAAWL,GAAU,IAElEM,MAAMC,QAAQC,I,IAxDnBzB,EAAgBE,iBAAiB,SA2DjC,WACEU,EACGE,YACAC,MAAKC,IACJ,MAAMC,SAAEA,EAAQC,aAAEA,GAAiBF,EAE/BE,EAAeD,EAASE,SAC1BnB,EAAgBoB,QAAS,GAG3BzB,EAAY0B,mBAAmB,YAAaC,EAAWL,GAAU,IAElEM,MAAMC,QAAQC,I,IArEnBzB,EAAgBoB,QAAS,EACzB,MAAMR,EAAe,ICdN,MAWbE,YACE,MAAMY,EAAS,IAAIC,gBAAgB,CACjCC,KAAMC,KAAKC,MACXC,GAAIF,KAAKC,MACTE,OAAQ,aACRC,SAAUC,KAAKD,SACfE,EAAGD,KAAK1B,MACR4B,KAAMF,KAAKE,OAGPC,EAAM,GAAGH,KAAKI,YAAYZ,EAAOa,aAEjCC,EAAU,CACd,YAAaN,KAAKO,QAGpB,OAAOC,MAAML,EAAK,C,QAAEG,IACjBzB,MAAK4B,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,UAElB,OAAOF,EAASG,MAAM,IAEvBvB,OAAMwB,GAASvB,QAAQuB,MAAM,uBAAwBA,I,CAGtDlC,kBACF,OAAOqB,KAAK1B,K,CAGVK,gBAAYmC,GACdd,KAAK1B,MAAQwC,C,CAzCfC,cACEf,KAAK1B,MAAQ,GACb0B,KAAKE,KAAO,EACZF,KAAKI,SAAW,oCAChBJ,KAAKO,OAAS,mCACdP,KAAKgB,QAAU,KACfhB,KAAKiB,SAAW,UAChBjB,KAAKD,SAAW,E,GDQpB,SAASX,EAAW8B,GAClB,OAAOA,EACJC,KAAI,EAACC,MAAEA,EAAKC,OAAEA,EAAMC,YAAEA,EAAWC,WAAEA,EAAUC,YAAEA,EAAWrB,IAAEA,KACpD,sGAIMoB,wBACAH,0GAIgBA,4CACAC,8DACmBC,gDACdE,0CAEpBrB,oHAQfsB,KAAK,G","sources":["src/index.js","src/News_Api/js/classNewsApi.js"],"sourcesContent":["// import './API_Pixabey/js/pixabeyApi';\nimport './News_Api/js/classNewsApi';\n\nimport NewsApi from './News_Api/js/classNewsApi';\n\nconst newsGallery = document.querySelector('.js-newsApi');\nconst form = document.querySelector('.form');\nconst findNewsBtn = document.querySelector('.js-form-btn');\nconst loadMoreNewsBtn = document.querySelector('.js-load-more-news-btn');\n\nfindNewsBtn.textContent = 'Find news';\n\nform.addEventListener('submit', handleFindNewsBtn);\nloadMoreNewsBtn.addEventListener('click', handleLoadNewsBtn);\n\nloadMoreNewsBtn.hidden = true;\nconst fetchHotNews = new NewsApi();\n\nfunction markupNews(arr) {\n  return arr\n    .map(({ title, author, publishedAt, urlToImage, description, url }) => {\n      return `\n      <li class=\"news-card\">\n        <div class=\"news-image\">\n          <img\n            src=\"${urlToImage}\"\n            alt=\"${title}\"\n          />\n        </div>\n        <div class=\"news-details\">\n          <h2 class=\"news-title\">${title}</h2>\n          <p class=\"news-author\">${author}</p>\n          <p class=\"news-publishedAt\">Published at: ${publishedAt}</p>\n          <p class=\"news-description\">${description}</p>\n          <a\n            href=\"${url}\"\n            class=\"news-url\"\n            >Read more</a\n          >\n        </div>\n      </li>\n        `;\n    })\n    .join('');\n}\n\nfunction handleFindNewsBtn(e) {\n  e.preventDefault();\n\n  const searchNewsQuery = e.currentTarget.elements.query.value.trim();\n\n  if (!searchNewsQuery) {\n    alert('Bad request!');\n    return;\n  }\n\n  fetchHotNews.searchQuery = searchNewsQuery;\n\n  fetchHotNews\n    .fetchNews()\n    .then(news => {\n      const { articles, totalResults } = news;\n\n      if (totalResults > articles.length) {\n        loadMoreNewsBtn.hidden = false;\n      }\n\n      newsGallery.insertAdjacentHTML('beforeend', markupNews(articles));\n    })\n    .catch(console.log);\n}\n\nfunction handleLoadNewsBtn() {\n  fetchHotNews\n    .fetchNews()\n    .then(news => {\n      const { articles, totalResults } = news;\n\n      if (totalResults > articles.length) {\n        loadMoreNewsBtn.hidden = false;\n      }\n\n      newsGallery.insertAdjacentHTML('beforeend', markupNews(articles));\n    })\n    .catch(console.log);\n}\n","// NewsApi key 51dbc0fa52b2439d86cda18bc3a4c116\n\nexport default class NewsApi {\n  constructor() {\n    this.query = '';\n    this.page = 1;\n    this.BASE_URL = 'https://newsapi.org/v2/everything';\n    this.apiKey = '51dbc0fa52b2439d86cda18bc3a4c116';\n    this.country = 'ua';\n    this.category = 'general';\n    this.pageSize = 24;\n  }\n\n  fetchNews() {\n    const params = new URLSearchParams({\n      from: Date.now(),\n      to: Date.now(),\n      sortBy: 'popularity',\n      pageSize: this.pageSize,\n      q: this.query,\n      page: this.page,\n    });\n\n    const url = `${this.BASE_URL}?${params.toString()}`;\n\n    const headers = {\n      'X-Api-Key': this.apiKey,\n    };\n\n    return fetch(url, { headers })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Error!');\n        }\n        return response.json();\n      })\n      .catch(error => console.error('Error fetching news:', error));\n  }\n\n  get searchQuery() {\n    return this.query;\n  }\n\n  set searchQuery(newQuery) {\n    this.query = newQuery;\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$newsGallery","document","querySelector","$1f0dc3b9307be026$var$form","$1f0dc3b9307be026$var$findNewsBtn","$1f0dc3b9307be026$var$loadMoreNewsBtn","textContent","addEventListener","e","preventDefault","searchNewsQuery","currentTarget","elements","query","value","trim","alert","$1f0dc3b9307be026$var$fetchHotNews","searchQuery","fetchNews","then","news","articles","totalResults","length","hidden","insertAdjacentHTML","$1f0dc3b9307be026$var$markupNews","catch","console","log","params","URLSearchParams","from","Date","now","to","sortBy","pageSize","this","q","page","url","BASE_URL","toString","headers","apiKey","fetch","response","ok","Error","json","error","newQuery","constructor","country","category","arr","map","title","author","publishedAt","urlToImage","description","join"],"version":3,"file":"index.6056afc0.js.map"}