const e=document.querySelector(".form"),t=document.querySelector(".photos"),r=document.querySelector(".load-more-btn"),n=document.querySelector(".js-form-btn"),a=new class{fetchPhotos(){const e=new URLSearchParams({key:"34842285-9ef26a99ee49cc306160c27d8",q:this.searchQuery,image_type:this.image_type,per_page:this.per_page,page:this.page});return fetch(`https://pixabay.com/api/?${e}`).then((e=>e.json())).then((({hits:e,total:t})=>(this.incrementPage(),{hits:e,total:t})))}get query(){return this.searchQuery}set query(e){this.searchQuery=e}incrementPage(){this.page+=1}resetPage(){this.page=1}constructor(){this.searchQuery="",this.page=1,this.per_page=12,this.image_type="photo"}};function s(){n.disabled=!0,a.fetchPhotos().then((({hits:e,total:s})=>{if((s>e.length||e.length*a.page<s||!s)&&(r.hidden=!1),!e.length)throw r.hidden=!0,alert("Can't find such photos"),new Error("bad request");r.disable=!0,r.textContent="LOADING>>>",t.insertAdjacentHTML("beforeend",e.map((({largeImageURL:e,tags:t})=>`<li class="photo-item">\n        <img src="${e}" alt="${t}" />\n        <p>${t}</p>\n        </li>`)).join("")),r.disable=!1,r.textContent="Load more",n.disabled=!1})).catch((e=>{r.hidden=!0,console.error(e),n.disabled=!1}))}r.hidden=!0,e.addEventListener("submit",(function(e){e.preventDefault();const n=e.target.elements.query.value;if(!n.trim())return;a.query=n.trim(),a.resetPage(),r.hidden=!0,t.innerHTML="",s()})),r.addEventListener("click",s);
//# sourceMappingURL=index.b3b009ca.js.map
